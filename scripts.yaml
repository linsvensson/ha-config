#https://home-assistant.io/components/script/

timed_hallway:
  alias: "Turn on light and set timer"
  sequence:
    # Cancel ev. old timers
    - service: script.turn_off
      data:
         entity_id: script.hallway_off
    - service: light.turn_on
      data:
        entity_id: light.hallway

hallway_off:
  alias: "Turn off light after 2 minutes"
  sequence:
    - delay:
        minutes: 2
    - service: light.turn_off
      data:
        entity_id: light.hallway
        
ac_power:
  sequence:
    - service: broadlink.send
      data:
        host: 192.168.1.104
        packet:
          - "JgBQAAABI5UVEhQSFBIUEhURFREVERU1FDcVNRQ3EzcSORI4EjgUExMTExMTNxI4FDcTExMTEjkSOBI4EhQTExMVETgSOBIWEQAFAQABKUoSAA0FAAAAAAAAAAA="
          
ac_swing:
  sequence:
    - service: broadlink.send
      data: 
        host: 192.168.1.104
        packet:
          - "JgBYAAABJJMSFBIUEhQSFBIUEhQTExM4EjgSORI4EjgTOBI4EjgTExMUEjgSFBIUEjgTExMTEzgSOBMUETkSOBIUEjgTOBIUEgAE/wABKkkSAAxPAAEoSxIADQU="
          
ac_silence:
  sequence:
    - service: broadlink.send
      data: 
        host: 192.168.1.104
        packet:
          - "JgBMABUSFBIUEhQSFBIVERURFTYUNhU2FDYVNhQ2FTYVNRUSFDYUNhUSFDYVNhQSFBIUNhUSFBIUNhURFREVNhQ2FRIUAAUAAAErSRQADQUAAAAAAAAAAAAAAAA="

####################################################
#                                                  #
#                     KITTIES                      #
#                                                  #
####################################################

store_litterbox_left_last_cleaned:
  alias: 'Left litterbox last cleaned'
  sequence:
    - service: input_datetime.set_datetime
      data_template:
        entity_id: input_datetime.litterbox_left_last_cleaned
        time: '{{ (as_timestamp(now()) | timestamp_custom("%H:%M:%S", true)) }}'
        date: '{{ (as_timestamp(now()) | timestamp_custom("%Y-%m-%d", true)) }}'
        
store_litterbox_bathroom_last_cleaned:
  alias: 'Bathroom litterbox last cleaned'
  sequence:
    - service: input_datetime.set_datetime
      data_template:
        entity_id: input_datetime.litterbox_bathroom_last_cleaned
        time: '{{ (as_timestamp(now()) | timestamp_custom("%H:%M:%S", true)) }}'
        date: '{{ (as_timestamp(now()) | timestamp_custom("%Y-%m-%d", true)) }}'

store_litterbox_right_last_cleaned:
  alias: 'Right litterbox last cleaned'
  sequence:
    - service: input_datetime.set_datetime
      data_template:
        entity_id: input_datetime.litterbox_right_last_cleaned
        time: '{{ (as_timestamp(now()) | timestamp_custom("%H:%M:%S", true)) }}'
        date: '{{ (as_timestamp(now()) | timestamp_custom("%Y-%m-%d", true)) }}'
        
store_fountain_last_cleaned:
  alias: 'Fountain last cleaned'
  sequence:
    - service: input_datetime.set_datetime
      data_template:
        entity_id: input_datetime.fountain_last_cleaned
        time: '{{ (as_timestamp(now()) | timestamp_custom("%H:%M:%S", true)) }}'
        date: '{{ (as_timestamp(now()) | timestamp_custom("%Y-%m-%d", true)) }}'
        
store_fountain_filter_last_changed:
  alias: 'Fountain filter last changed'
  sequence:
    - service: input_datetime.set_datetime
      data_template:
        entity_id: input_datetime.fountain_filter_last_changed
        time: '{{ (as_timestamp(now()) | timestamp_custom("%H:%M:%S", true)) }}'
        date: '{{ (as_timestamp(now()) | timestamp_custom("%Y-%m-%d", true)) }}'
